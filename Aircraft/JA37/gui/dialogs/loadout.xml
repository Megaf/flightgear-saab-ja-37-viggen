<?xml version="1.0" encoding="utf-8"?>

<PropertyList>
  <name>loadout</name>
  <layout>vbox</layout>

  <!-- Title bar -->
  <group>
    <layout>hbox</layout>
    <empty><stretch>1</stretch></empty>

    <text>
      <label>Fuel and Loadout Selection</label>
    </text>

    <empty><stretch>1</stretch></empty>

    <button>
      <pref-width>16</pref-width>
      <pref-height>16</pref-height>
      <legend></legend>
      <keynum>27</keynum>
      <border>2</border>
      <binding>
        <command>nasal</command>
        <script>loadout.Dialog.close()</script>
      </binding>
    </button>
  </group>

  <hrule/>

  <!-- Fuel -->
  <group>
    <layout>hbox</layout>

    <text><label>Fuel:</label></text>

    <slider>
      <pref-width>120</pref-width>
      <min>0</min>
      <max>136</max>
      <property>/sim/gui/dialogs/loadout/dialog/fuel/request-percent</property>
      <live>true</live>
      <enable>/ja37/reload-allowed</enable>
      <binding>
        <command>dialog-apply</command>
      </binding>
      <binding>
        <command>nasal</command>
        <script>loadout.Dialog.fuel_slider_callback();</script>
      </binding>
    </slider>

    <text>
      <label>100%</label>
      <format>%3.f%%</format>
      <property>/sim/gui/dialogs/loadout/dialog/fuel/request-percent</property>
      <live>true</live>
    </text>

    <empty><stretch>true</stretch></empty>

    <checkbox>
      <label>External fuel tank</label>
      <property>/consumables/fuel/tank[8]/mounted</property>
      <live>true</live>
      <enable>/ja37/reload-allowed</enable>
      <binding>
        <command>dialog-apply</command>
      </binding>
      <binding>
        <command>nasal</command>
        <script>loadout.Dialog.droptank_callback();</script>
      </binding>
    </checkbox>

    <empty><stretch>true</stretch></empty>
  </group>

  <text>
    <halign>left</halign>
    <label>Fuel % corresponds to the fuel gauge. 100% is slightly less than full internal tanks.</label>
  </text>

  <hrule/>

  <!-- General loadout options -->
  <text>
    <label>Payload</label>
  </text>

  <canvas>
    <name>loadout</name>
    <pref-width>768</pref-width>
    <pref-height>144</pref-height>
    <view n="0">512</view>
    <view n="1">96</view>
  </canvas>

  <group>
    <!-- Table is filled based on a list of pylons -->
    <name>pylons_table</name>
    <layout>table</layout>
  </group>

  <group>
    <layout>hbox</layout>

    <empty><stretch>true</stretch></empty>

    <button>
      <legend>Remove payload</legend>
      <pref-width>120</pref-width>
      <enable>/ja37/reload/allowed</enable>
      <binding>
        <command>nasal</command>
        <script>loadout.load_clean();</script>
      </binding>
    </button>

    <empty><stretch>true</stretch></empty>

    <button>
      <legend>Reload</legend>
      <pref-width>120</pref-width>
      <enable>/ja37/reload/allowed</enable>
      <binding>
        <command>nasal</command>
        <script>loadout.reload();</script>
      </binding>
    </button>

    <empty><stretch>true</stretch></empty>
  </group>

  <hrule/>

  <text>
    <label>Loadout Presets</label>
  </text>

  <group>
    <!-- Table is filled based on a list of loadouts -->
    <name>loadout_table</name>
    <layout>table</layout>
  </group>

  <text>
    <ajs-only/>
    <label>Options (effective after loading a preset)</label>
  </text>

  <group>
    <ajs-only/>

    <layout>hbox</layout>

    <checkbox>
      <label>Add RB 24J Sidewinders on outer pylons</label>
      <property>/sim/gui/dialogs/loadout/dialog/loadout/load-outer-rb24j</property>
      <live>true</live>
      <enable>/ja37/reload-allowed</enable>
      <binding>
        <command>dialog-apply</command>
      </binding>
    </checkbox>

    <empty><stretch>1</stretch></empty>

    <combo>
      <property>/sim/gui/dialogs/loadout/dialog/loadout/load-rb74</property>
      <live>true</live>
      <enable>/ja37/reload-allowed</enable>
      <binding>
        <command>dialog-apply</command>
      </binding>
      <value>None</value>
      <value>Right</value>
      <value>Left</value>
      <value>Both</value>
    </combo>

    <text>
      <halign>left</halign>
      <label>Add RB 74 Sidewinders on main pylons (replaces some primary weapon)</label>
    </text>

    <empty><stretch>1</stretch></empty>
  </group>
</PropertyList>
